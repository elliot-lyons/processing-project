class PieChart {

  PImage mapOfStates = loadImage("BlankUSMap.png");
  float diameter;
  float lastAngle = 0;
  float sumOfData = 0;
  float addData;
  float mouseAngle;
  int[] data;
  float[] angles;
  float gray;
  String[] labels;
  color minColor, maxColor;

  //piechart making

  PieChart(float diameter, int[] data) {//, String[] labels) {
    this.diameter = diameter;
    this.data = data;
    minColor = color(222, 235, 247);
    maxColor = color(49, 130, 189);
    //this.labels = labels;
  }

  void setup() {
    //int[] data;

    println(data);
  }
  /*
  float dataTotal(int[] data) {
   // find sum of all data
   for (int i = 0; i < data.length; i++) {
   addData = data[i];
   sumOfData += addData;
   }
   return sumOfData;
   }
   */
  void draw() {
    background(255);
    noTint();
    createPieChart(400, data);
    mapOfStates.resize(SCREEN_X, SCREEN_Y);
    tint(255, 127);
    image(mapOfStates, 100, 100);
    // find sum of all data
  }

  void percentageSlices(int[] labels) {
  }

  void createPieChart(float diameter, int[] data) {
    for (int i = 0; i < data.length; i++) {
      //addData = data[i];
      sumOfData += data[i];
    }
    //convert data to angles
    angles = new float[data.length];
    for (int i = 0; i < data.length; i++) {
      angles[i] = ((data[i] / sumOfData) * 360);
    }

    //draw the piechart
    for (int i = 0; i < angles.length; i++) {
      //gray = map(i, 0, data.length, 0, 255);
      //fill(gray);
      //2nd way to get color
      //float change = i * (255/data.length);
      //fill(lerpColor(minColor, maxColor, change));
      //3rd way to get color
      //goes from red to yellow to green
      float colorlOL = i * (255/data.length * 2);
      float anotherColor = 255;
      if (colorlOL >= 255) {
        anotherColor = (255 - (i - data.length/2) * (255/data.length * 2));
      }
      fill(anotherColor, colorlOL, 0);
      arc(width/2, height/2, diameter, diameter, lastAngle, lastAngle + radians(angles[i]));
      lastAngle += radians(angles[i]);
    }
    //noLoop();
  }
}
