class GraphBar
{
  private double xRatio;
  private double yRatio;

  private String dataRepresented;
  private int colorNo;

  private float xOrigin;
  private float yLimit;
  private float barHeight;
  private int currentCases;

  ArrayList<covidDataRow> theList;

  GraphBar(String data, double xRat, double yRat, int colorVar, float xOrg, float yLim, ArrayList<covidDataRow> aList)
  {
    dataRepresented = data;
    xRatio = xRat;
    yRatio = yRat;
    colorNo = colorVar;
    xOrigin = xOrg;
    yLimit = yLim;
    theList = aList;

    currentCases = getCurrentCases();
    barHeight = getHeight(currentCases);
  }

  float getHeight(int cases)
  {
    return (float) cases * (float) yRatio;
  }

  int getCurrentCases()
  {
    int cases = 0;
    covidDataRow currentRow;

    for (int j = 0; j < theList.size(); j++)
    {
      currentRow = (covidDataRow) totalList.get(j);

      if (currentRow.date.contains(dataRepresented))
      {
        cases += currentRow.cases;
      }
    }
    return cases;
  }


  void dataLabel()
  {
    fill(0);
    text(currentCases, (float) (currentCases < 1000000 ? (xOrigin + 25) : xOrigin), (float)                                                     
        (yLimit - barHeight - GRAPH_X_TEXT_MARGIN));
        
    text("cases", (float) (xOrigin + 15), (float) (yLimit - barHeight - 5));
  }


  void draw()
  {
    fill(colorNo, 100, 100);

    rect((float) xOrigin, (float) yLimit - barHeight, (float) xRatio, barHeight);
    
    dataLabel();
  }
}
